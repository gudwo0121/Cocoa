<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.request">
	<resultMap id="requestResult" type="requestVO">
		<result property="reqNO" column="reqNO" />
		<result property="req" column="req" />
		<result property="res" column="res" />
		<result property="rTitle" column="rTitle" />
		<result property="rContents" column="rContents" />
		<result property="rDate" column="rDate" />
		<result property="rImg" column="rImg" />
		<result property="status" column="status" />
		<result property="realPrice" column="realPrice" />
		<result property="contact" column="contact" />
		<result property="pay" column="pay" />
		<result property="reason" column="reason" />
	</resultMap>

	<!-- 요청글 입력 쿼리 -->
	<insert id="insertRequest" parameterType="java.util.Map">
		<![CDATA[
		 insert into requestTBL (reqNO, req, res, rTitle, rContents, rImg)
		 values(#{reqNO}, #{req}, #{res}, #{rTitle}, #{rContents}, #{rImg})
		]]>
	</insert>

	<!-- 요청글 넘버링 -->
	<select id="selectNewReqNO" resultType="int">
		<![CDATA[
			SELECT ifnull(max(reqNO), 0) + 1
			from requestTBL
		]]>
	</select>

</mapper>